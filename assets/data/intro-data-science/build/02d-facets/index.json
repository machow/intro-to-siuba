{"hash":"9816a51d686d951f84025583001c511f565ac268","data":{"metadata":{"siteName":"Siuba tutorials","siteDescription":""},"post":{"id":"bc787b6bc1324de8e790691c81a65dc6","title":"Facets","content":"\n<Notebook\n  v-slot=\"nb\"\n  branch=\"master\"\n  repo=\"machow/purview\"\n  url=\"https://mybinder.org\"\n  useBinder=\"1\"\n  useStorage=\"1\"\n  >\n\n\n<details v-fix-codemirror v-show=\"nb.debut\">\n<code-cell  :status=\"nb.status\" :onExecute=\"nb.execute\" :onReady=\"nb.updateSetupCode\"  language=\"python\">\n\n\n    # TODO: explain how to run this, and that they only need the gist (loads tools)\n    \n    # wranglign ---------\n    import pandas as pd\n    from siuba import *\n    \n    # plotting ----------\n    from plotnine import *\n    \n    theme_set(theme_classic(base_family = \"Noto Sans CJK JP\"))\n    \n    # data --------------\n    #fname = \"/Users/machow/Dropbox/Repo/siublocks-org/intro-tidyverse/tutorial/data/music200.csv\"\n    fname = \"https://siublocks.s3.us-east-2.amazonaws.com/course-data/music200.csv\"\n    music_top200 = pd.read_csv(fname)\n    \n    # tracks\n    #fname = \"/Users/machow/Dropbox/Repo/siublocks-org/intro-tidyverse/tutorial/data/track_features.csv\"\n    fname = \"https://siublocks.s3.us-east-2.amazonaws.com/course-data/track_features.csv\"\n    track_features = pd.read_csv(fname)\n    \n    # student support ----------\n    from siuba import pipe\n    from IPython.display import HTML, display\n    from siututor import Blank\n    ___ = Blank()\n    \n    # DataFrame display --------\n    pd.set_option(\"display.max_rows\", 6)\n    \n    from IPython import get_ipython\n    # special ipython function to get the html formatter\n    html_formatter = get_ipython().display_formatter.formatters['text/html']\n    \n    # here, we avoid the default df._repr_html_ method, since it inlines css\n    # (style tags make vue angry)\n    html_formatter.for_type(\n        pd.DataFrame,\n        lambda df: df.to_html(max_rows = pd.get_option(\"display.max_rows\"), show_dimensions = True)\n    )\n    \n    \n\n\n\n\n</code-cell>\n</details>\n\n\nimport slides from '../slides/02d-slides.markdown'\n\n<RevealSlides :slides=\"slides\" />\n\n### Exercise 1: \n\n**TODO**\n\n### Exercise 2:\n\nBelow is the start of plotnine's documentation for `facet_wrap`. \n\n\n<img src=\"../assets/facet_wrap_docs.png\" style=\"width: 100%;\">\n\nNotice that the Parameters section lists `ncol` and `nrow` options. These determine how many columns or rows to use. For example, the plot below has `nrow = 1`.\n\nTry out the plot as is, and with the `nrow` argument changed to `ncol = 1`.\nThen, answer the questions below.\n\n<code-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  ex=\"a\" :exIndx=\"0\" language=\"python\">\n\n\n    # This code keeps the 3 artists listed ----\n    artists_to_keep = [\"Billie Eilish\", \"ITZY\", \"Roddy Ricch\"]\n    \n    some_artists = (\n      track_features\n      >> filter(_.artist.isin(artists_to_keep))\n    )\n    \n    # This code plots the data ----\n    (some_artists\n      >> ggplot(aes(\"energy\", \"valence\", color = \"artist\"))\n       + geom_point()\n       + facet_wrap(\"~artist\", nrow = 1)\n       + labs(title = \"Song features across 3 artists\")\n    )\n\n\n<template v-slot:output>\n\n    findfont: Font family ['Noto Sans CJK JP'] not found. Falling back to DejaVu Sans.\n    findfont: Font family ['Noto Sans CJK JP'] not found. Falling back to DejaVu Sans.\n    findfont: Font family ['Noto Sans CJK JP'] not found. Falling back to DejaVu Sans.\n\n\n\n![png](./02d-facets_files/02d-facets_5_1.png)\n\n\n\n\n\n    <ggplot: (295497981)>\n\n\n\n</template>\n\n</code-cell>\n\n\n<prompt-expandable header=\"Which of the three artists tends to have the lowest valence?\">\n\n<q-multiple-choice>\n  <q-opt text=\"Billie Eilish\"><span>Correct! We'll discuss how to measure the idea of \"tends to have\" in the next chapter.</span></q-opt>\n  <q-opt text=\"ITZY\"><span>That's not right. This artist tends to have the highest valence.</span></q-opt>\n  <q-opt text=\"Roddy Ricch\"><span>That's not right. Look for the cluster of points toward the bottom of the plot.</span></q-opt>\n</q-multiple-choice>\n\n</prompt-expandable>\n\n\nWhich value seems easier to compare across facets, when ncol is set to 1?\n\n<details>\n<summary>answer</summary>\n    \nThis is subjective, but I would say energy is easier to compare, since there is only one x-axis for across all plots. (For example, there is a only one spot on the x-axis where energy is .25).\n    \n</details>\n\n\n</Notebook>\n\n","chunk":"visualize"},"allPosts":{"edges":[{"node":{"id":"652e7785105c1207d315c249131f5b7f","path":"/intro-data-science/build/01-intro-data-science/","title":"Course welcome","chunk":"overview","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01b-filter/"},"previous":null},{"node":{"id":"ba1582d1c6d27a522e11b03b97dff7b9","path":"/intro-data-science/build/01b-filter/","title":"Filter","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01c-arrange/"},"previous":{"path":"/intro-data-science/build/01-intro-data-science/"}},{"node":{"id":"ad19f602c352dfe1d79fefe29da15f7d","path":"/intro-data-science/build/01c-arrange/","title":"Arrange","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01d-mutate/"},"previous":{"path":"/intro-data-science/build/01b-filter/"}},{"node":{"id":"ab23fa24aeb29459d678ca42733d0864","path":"/intro-data-science/build/01d-mutate/","title":"Mutate","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01f-wrap-up/"},"previous":{"path":"/intro-data-science/build/01c-arrange/"}},{"node":{"id":"cce2a731d9223cc9c35f6ffb69ea5176","path":"/intro-data-science/build/01f-wrap-up/","title":"Wrap up","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02a-intro-data-viz/"},"previous":{"path":"/intro-data-science/build/01d-mutate/"}},{"node":{"id":"ed3e60b58cc1c655ccddd7a30380a224","path":"/intro-data-science/build/02a-intro-data-viz/","title":"Getting started","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02b-geoms/"},"previous":{"path":"/intro-data-science/build/01f-wrap-up/"}},{"node":{"id":"6698ef05a76b90168bf54a8575976c5d","path":"/intro-data-science/build/02b-geoms/","title":"Geoms","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02c-aesthetics/"},"previous":{"path":"/intro-data-science/build/02a-intro-data-viz/"}},{"node":{"id":"b38e6ddaabaa0889c9b132bb5d1dc094","path":"/intro-data-science/build/02c-aesthetics/","title":"Aesthetics","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02d-facets/"},"previous":{"path":"/intro-data-science/build/02b-geoms/"}},{"node":{"id":"bc787b6bc1324de8e790691c81a65dc6","path":"/intro-data-science/build/02d-facets/","title":"Facets","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/03a-summarize/"},"previous":{"path":"/intro-data-science/build/02c-aesthetics/"}},{"node":{"id":"7fb1c5a33b7ee3d404f35f16213d75b9","path":"/intro-data-science/build/03a-summarize/","title":"Summarize","chunk":"summarize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/03b-group-by/"},"previous":{"path":"/intro-data-science/build/02d-facets/"}},{"node":{"id":"19c2db78356c5b0bad11c1668ade5b37","path":"/intro-data-science/build/03b-group-by/","title":"Group by","chunk":"summarize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/03c-summary-viz/"},"previous":{"path":"/intro-data-science/build/03a-summarize/"}},{"node":{"id":"8e7310b2762c49e1aa56df35fb6fd01b","path":"/intro-data-science/build/03c-summary-viz/","title":"Visualizing summaries","chunk":"summarize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04a-line-plots/"},"previous":{"path":"/intro-data-science/build/03b-group-by/"}},{"node":{"id":"765b90f18cb157357bf37d3bc1c4f64e","path":"/intro-data-science/build/04a-line-plots/","title":"Line plots","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04b-barcharts/"},"previous":{"path":"/intro-data-science/build/03c-summary-viz/"}},{"node":{"id":"5eba68a03c690e088a7fc69200688ebd","path":"/intro-data-science/build/04b-barcharts/","title":"Bar plots","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04c-histograms/"},"previous":{"path":"/intro-data-science/build/04a-line-plots/"}},{"node":{"id":"1b45dad3d6a0220c9c3dde401d5cf619","path":"/intro-data-science/build/04c-histograms/","title":"Histograms","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04d-boxplot/"},"previous":{"path":"/intro-data-science/build/04b-barcharts/"}},{"node":{"id":"fd2b714678015f0c57f8231f020d3686","path":"/intro-data-science/build/04d-boxplot/","title":"Boxplots","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":null,"previous":{"path":"/intro-data-science/build/04c-histograms/"}}]}},"context":{}}