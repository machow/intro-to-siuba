{"hash":"9816a51d686d951f84025583001c511f565ac268","data":{"metadata":{"siteName":"Siuba tutorials","siteDescription":""},"post":{"id":"652e7785105c1207d315c249131f5b7f","title":"Course welcome","content":"\n<Notebook\n  v-slot=\"nb\"\n  branch=\"master\"\n  repo=\"machow/purview\"\n  url=\"https://mybinder.org\"\n  useBinder=\"1\"\n  useStorage=\"1\"\n  >\n\n\n<details v-fix-codemirror v-show=\"nb.debut\">\n<code-cell  :status=\"nb.status\" :onExecute=\"nb.execute\" :onReady=\"nb.updateSetupCode\"  language=\"python\">\n\n\n    # TODO: explain how to run this, and that they only need the gist (loads tools)\n    \n    # wranglign ---------\n    import pandas as pd\n    from siuba import *\n    \n    # plotting ----------\n    from plotnine import *\n    \n    theme_set(theme_classic(base_family = \"Noto Sans CJK JP\"))\n    \n    # data --------------\n    #fname = \"/Users/machow/Dropbox/Repo/siublocks-org/intro-tidyverse/tutorial/data/music200.csv\"\n    fname = \"https://siublocks.s3.us-east-2.amazonaws.com/course-data/music200.csv\"\n    music_top200 = pd.read_csv(fname)\n    \n    # tracks\n    #fname = \"/Users/machow/Dropbox/Repo/siublocks-org/intro-tidyverse/tutorial/data/track_features.csv\"\n    fname = \"https://siublocks.s3.us-east-2.amazonaws.com/course-data/track_features.csv\"\n    track_features = pd.read_csv(fname)\n    \n    # student support ----------\n    from siuba import pipe\n    from IPython.display import HTML, display\n    from siututor import Blank\n    ___ = Blank()\n    \n    # DataFrame display --------\n    pd.set_option(\"display.max_rows\", 6)\n    \n    from IPython import get_ipython\n    # special ipython function to get the html formatter\n    html_formatter = get_ipython().display_formatter.formatters['text/html']\n    \n    # here, we avoid the default df._repr_html_ method, since it inlines css\n    # (style tags make vue angry)\n    html_formatter.for_type(\n        pd.DataFrame,\n        lambda df: df.to_html(max_rows = pd.get_option(\"display.max_rows\"), show_dimensions = True)\n    )\n    \n    \n\n\n\n\n</code-cell>\n</details>\n\nimport slides from '../slides/00-slides.markdown'\n\n<RevealSlides :slides=\"slides\" />\n\n\n### Exercise 1: inspecting music data\n\nimport CodeCellTemplater from '~/components/Cell/CodeCellTemplater.vue'\n\n<CodeCellTemplater\n  :templateVars=\"$frontmatter.exercise_pars[0]\"\n  :status=\"nb.status\" :onExecute=\"nb.execute\" language=\"python\"\n  >\n\n    (music_top200\n      >> filter(_.country == \"${this.country}\")\n    )\n\n\n<template v-slot:output>\n<table border=\"1\" class=\"dataframe dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>position</th>\n      <th>track_name</th>\n      <th>artist</th>\n      <th>streams</th>\n      <th>duration</th>\n      <th>continent</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>7800</th>\n      <td>United States</td>\n      <td>1</td>\n      <td>The Box</td>\n      <td>Roddy Ricch</td>\n      <td>12987027</td>\n      <td>196.653</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7801</th>\n      <td>United States</td>\n      <td>2</td>\n      <td>Myron</td>\n      <td>Lil Uzi Vert</td>\n      <td>9163134</td>\n      <td>224.955</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7802</th>\n      <td>United States</td>\n      <td>3</td>\n      <td>Blueberry Faygo</td>\n      <td>Lil Mosey</td>\n      <td>8043475</td>\n      <td>162.547</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>7997</th>\n      <td>United States</td>\n      <td>198</td>\n      <td>Lights Up</td>\n      <td>Harry Styles</td>\n      <td>1606234</td>\n      <td>172.227</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7998</th>\n      <td>United States</td>\n      <td>199</td>\n      <td>Without Me</td>\n      <td>Halsey</td>\n      <td>1606153</td>\n      <td>201.661</td>\n      <td>Americas</td>\n    </tr>\n    <tr>\n      <th>7999</th>\n      <td>United States</td>\n      <td>200</td>\n      <td>Enemies (feat. DaBaby)</td>\n      <td>Post Malone</td>\n      <td>1597824</td>\n      <td>196.760</td>\n      <td>Americas</td>\n    </tr>\n  </tbody>\n</table>\n</template>\n\n</CodeCellTemplater>\n\n<prompt-expandable header=\"Which artist has a track in the second position on the United States charts?\">\n\n<q-multiple-choice>\n  <q-opt text=\"Roddy Ricch\"><span>Try again. That artist is in the first position.</span></q-opt>\n  <q-opt text=\"Lil Uzi Vert\"><span>That's right!</span></q-opt>\n  <q-opt text=\"Halsey\"><span>Try again. That artist is the second from last position (198).</span></q-opt>\n</q-multiple-choice>\n\n</prompt-expandable>\n\n\n\n### Exercise 2: inspecting `track_features` data\n\nUse the options below, to examine tracks by different artists. Can you find the options that order tracks from highest energy to lowest?\n\n<CodeCellTemplater\n  :templateVars=\"$frontmatter.exercise_pars[1]\"\n  :status=\"nb.status\" :onExecute=\"nb.execute\" language=\"python\"\n  >\n\n    (track_features\n      >> arrange(${this.arrangeVar})\n      >> filter(_.artist == \"${this.artist}\")\n    )\n    \n<template v-slot:output>\n\n\n<table border=\"1\" class=\"dataframe dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>artist</th>\n      <th>album</th>\n      <th>track_name</th>\n      <th>energy</th>\n      <th>valence</th>\n      <th>danceability</th>\n      <th>speechiness</th>\n      <th>acousticness</th>\n      <th>popularity</th>\n      <th>duration</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>22431</th>\n      <td>The Weeknd</td>\n      <td>After Hours (Deluxe)</td>\n      <td>Missed You - Bonus Track</td>\n      <td>0.364</td>\n      <td>0.4480</td>\n      <td>0.716</td>\n      <td>0.0866</td>\n      <td>0.10700</td>\n      <td>48</td>\n      <td>144.540</td>\n    </tr>\n    <tr>\n      <th>3889</th>\n      <td>The Weeknd</td>\n      <td>After Hours (Deluxe)</td>\n      <td>Nothing Compares - Bonus Track</td>\n      <td>0.577</td>\n      <td>0.0398</td>\n      <td>0.524</td>\n      <td>0.0358</td>\n      <td>0.00253</td>\n      <td>49</td>\n      <td>222.307</td>\n    </tr>\n    <tr>\n      <th>17384</th>\n      <td>The Weeknd</td>\n      <td>Heartless</td>\n      <td>Heartless</td>\n      <td>0.750</td>\n      <td>0.1980</td>\n      <td>0.531</td>\n      <td>0.1110</td>\n      <td>0.00632</td>\n      <td>60</td>\n      <td>200.080</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>9284</th>\n      <td>The Weeknd</td>\n      <td>After Hours</td>\n      <td>After Hours</td>\n      <td>0.572</td>\n      <td>0.1430</td>\n      <td>0.664</td>\n      <td>0.0305</td>\n      <td>0.08110</td>\n      <td>84</td>\n      <td>361.027</td>\n    </tr>\n    <tr>\n      <th>24689</th>\n      <td>The Weeknd</td>\n      <td>Starboy</td>\n      <td>Starboy</td>\n      <td>0.587</td>\n      <td>0.4860</td>\n      <td>0.679</td>\n      <td>0.2760</td>\n      <td>0.14100</td>\n      <td>84</td>\n      <td>230.453</td>\n    </tr>\n    <tr>\n      <th>24983</th>\n      <td>The Weeknd</td>\n      <td>After Hours</td>\n      <td>In Your Eyes</td>\n      <td>0.719</td>\n      <td>0.7170</td>\n      <td>0.667</td>\n      <td>0.0346</td>\n      <td>0.00285</td>\n      <td>91</td>\n      <td>237.520</td>\n    </tr>\n  </tbody>\n</table>\n\n\n</template>    \n\n</CodeCellTemplater>\n\n### Exercise 3: Plotting track features\n\nHere is one kind of plot you will learn to make in the course.\n\n\nOnce you've tried some options, scroll down and click next to get started with the first chapter!\n\n<CodeCellTemplater\n  :templateVars=\"$frontmatter.exercise_pars[2]\"\n  :status=\"nb.status\" :onExecute=\"nb.execute\" language=\"python\"\n  >\n\n    (track_features\n      >> filter(_.artist == \"${this.artist}\")\n      >> ggplot(aes(\"energy\", \"valence\", size = \"${this.size}\", color = \"album\", label = \"track_name\"))\n       + geom_point()\n       + geom_text(nudge_y = .05, size = 10)\n    )\n\n<template v-slot:output>\n\n![png](../build/01-example3-output.png)\n\n</template>\n\n</CodeCellTemplater>\n\n\n\n\n\n\n</Notebook>\n\n","chunk":"overview"},"allPosts":{"edges":[{"node":{"id":"652e7785105c1207d315c249131f5b7f","path":"/intro-data-science/build/01-intro-data-science/","title":"Course welcome","chunk":"overview","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01b-filter/"},"previous":null},{"node":{"id":"ba1582d1c6d27a522e11b03b97dff7b9","path":"/intro-data-science/build/01b-filter/","title":"Filter","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01c-arrange/"},"previous":{"path":"/intro-data-science/build/01-intro-data-science/"}},{"node":{"id":"ad19f602c352dfe1d79fefe29da15f7d","path":"/intro-data-science/build/01c-arrange/","title":"Arrange","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01d-mutate/"},"previous":{"path":"/intro-data-science/build/01b-filter/"}},{"node":{"id":"ab23fa24aeb29459d678ca42733d0864","path":"/intro-data-science/build/01d-mutate/","title":"Mutate","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/01f-wrap-up/"},"previous":{"path":"/intro-data-science/build/01c-arrange/"}},{"node":{"id":"cce2a731d9223cc9c35f6ffb69ea5176","path":"/intro-data-science/build/01f-wrap-up/","title":"Wrap up","chunk":"wrangle","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02a-intro-data-viz/"},"previous":{"path":"/intro-data-science/build/01d-mutate/"}},{"node":{"id":"ed3e60b58cc1c655ccddd7a30380a224","path":"/intro-data-science/build/02a-intro-data-viz/","title":"Getting started","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02b-geoms/"},"previous":{"path":"/intro-data-science/build/01f-wrap-up/"}},{"node":{"id":"6698ef05a76b90168bf54a8575976c5d","path":"/intro-data-science/build/02b-geoms/","title":"Geoms","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02c-aesthetics/"},"previous":{"path":"/intro-data-science/build/02a-intro-data-viz/"}},{"node":{"id":"b38e6ddaabaa0889c9b132bb5d1dc094","path":"/intro-data-science/build/02c-aesthetics/","title":"Aesthetics","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/02d-facets/"},"previous":{"path":"/intro-data-science/build/02b-geoms/"}},{"node":{"id":"bc787b6bc1324de8e790691c81a65dc6","path":"/intro-data-science/build/02d-facets/","title":"Facets","chunk":"visualize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/03a-summarize/"},"previous":{"path":"/intro-data-science/build/02c-aesthetics/"}},{"node":{"id":"7fb1c5a33b7ee3d404f35f16213d75b9","path":"/intro-data-science/build/03a-summarize/","title":"Summarize","chunk":"summarize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/03b-group-by/"},"previous":{"path":"/intro-data-science/build/02d-facets/"}},{"node":{"id":"19c2db78356c5b0bad11c1668ade5b37","path":"/intro-data-science/build/03b-group-by/","title":"Group by","chunk":"summarize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/03c-summary-viz/"},"previous":{"path":"/intro-data-science/build/03a-summarize/"}},{"node":{"id":"8e7310b2762c49e1aa56df35fb6fd01b","path":"/intro-data-science/build/03c-summary-viz/","title":"Visualizing summaries","chunk":"summarize","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04a-line-plots/"},"previous":{"path":"/intro-data-science/build/03b-group-by/"}},{"node":{"id":"765b90f18cb157357bf37d3bc1c4f64e","path":"/intro-data-science/build/04a-line-plots/","title":"Line plots","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04b-barcharts/"},"previous":{"path":"/intro-data-science/build/03c-summary-viz/"}},{"node":{"id":"5eba68a03c690e088a7fc69200688ebd","path":"/intro-data-science/build/04b-barcharts/","title":"Bar plots","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04c-histograms/"},"previous":{"path":"/intro-data-science/build/04a-line-plots/"}},{"node":{"id":"1b45dad3d6a0220c9c3dde401d5cf619","path":"/intro-data-science/build/04c-histograms/","title":"Histograms","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":{"path":"/intro-data-science/build/04d-boxplot/"},"previous":{"path":"/intro-data-science/build/04b-barcharts/"}},{"node":{"id":"fd2b714678015f0c57f8231f020d3686","path":"/intro-data-science/build/04d-boxplot/","title":"Boxplots","chunk":"plot types","headings":[],"fileInfo":{"directory":"intro-data-science/build"}},"next":null,"previous":{"path":"/intro-data-science/build/04c-histograms/"}}]}},"context":{}}