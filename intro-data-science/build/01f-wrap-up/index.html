<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Wrap up - Siuba tutorials</title><meta name="gridsome:hash" content="ded5d3a2c22a2f9163f67c6d9860209093ffd887"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.13"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="og:url" name="og:url" content="undefined/"><meta data-vue-tag="ssr" name="author" content=""><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/intro-to-siuba/assets/static/favicon.ce0531f.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/intro-to-siuba/assets/static/favicon.ac8d93a.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/intro-to-siuba/assets/static/favicon.b9532cc.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/intro-to-siuba/assets/static/favicon.f22e9f3.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/intro-to-siuba/assets/static/favicon.62d22cb.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/intro-to-siuba/assets/static/favicon.1539b60.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/intro-to-siuba/assets/static/favicon.dc0cdc5.4c9809035c230f0e6cac26955353be8b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/intro-to-siuba/assets/static/favicon.7b22250.4c9809035c230f0e6cac26955353be8b.png"><link rel="preload" href="/intro-to-siuba/assets/css/0.styles.c34a8c55.css" as="style"><link rel="preload" href="/intro-to-siuba/assets/js/app.09163097.js" as="script"><link rel="preload" href="/intro-to-siuba/assets/js/page--src--templates--course-landing-vue.72f716fe.js" as="script"><link rel="preload" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-f-wrap-up-md.cf413e3d.js" as="script"><link rel="prefetch" href="/intro-to-siuba/assets/js/28.7f66d074.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/29.b590fc22.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/30.a4ca9897.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--node-modules--gridsome--app--pages--404-vue.d41f8f26.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--pages--about-vue.264216d0.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--pages--index-vue.0048a42a.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--pages--test-vue.68d58b24.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/page--src--templates--post-vue.f34309b4.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--demo--01-g-test-md.b30955b9.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-b-filter-md.ed8cd0a3.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-c-arrange-md.02873b0d.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-d-mutate-md.fc5ee1c7.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-intro-data-science-md.1aedf4c4.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--02-a-intro-data-viz-md.c4264266.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--02-b-geoms-md.651d85ff.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--02-c-aesthetics-md.e51101ae.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--02-d-facets-md.7ad848a6.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--03-a-summarize-md.94507e98.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--03-b-group-by-md.441007f4.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--03-c-summary-viz-md.22974df8.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--04-a-line-plots-md.7ab43063.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--04-b-barcharts-md.5932d8f5.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--04-c-histograms-md.cb2edcf7.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--04-d-boxplot-md.a83768ab.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--cheatsheet-md.50796741.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--index-md.6f72ba3e.js"><link rel="prefetch" href="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--readme-md.039dbd7c.js"><link rel="stylesheet" href="/intro-to-siuba/assets/css/0.styles.c34a8c55.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-1f94fe02><h1 class="course-title" data-v-1f94fe02>Wrap up</h1><div class="container" data-v-1f94fe02><div class="main" data-v-1f94fe02></div><div class="sidebar" data-v-1f94fe02><div class="resources sidebar-box" data-v-1f94fe02><h3 class="box-title" data-v-1f94fe02>resources</h3></div><div class="authors sidebar-box" data-v-1f94fe02><h3 class="box-title" data-v-1f94fe02>authors</h3></div></div></div><div data-v-1f94fe02><div><details style="display:none;"><div language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div></div><div class="container-editor container"></div></div></div></details><h3 id="putting-it-together"><a href="#putting-it-together" aria-hidden="true"><span class="fa fa-link"></span></a>Putting it together</h3><p>This lesson shows what the beginning of an analysis might look like.
Generally, data analysis is done in <strong>notebooks</strong>, like this one. In a notebook, you can alternate between blocks of code and narrative text.</p><p>The first part of an analysis is often <strong>importing</strong> tools you will need for the analysis.
For example, verbs like <code>filter</code> and <code>mutate</code> are imported from siuba.</p><p>Another coding concept you'll see in this example is a <strong>comment</strong>.
These are lines of code that start with <code>#</code>.
In this case, the line is not treated as code, but a note for the reader.</p><p>The imports for this analysis are shown below.</p><pre><code class="language-python"># here we import verbs like filter, arrange, and mutate from siuba.
# the import * means to import all of siuba's verbs.
from siuba import *

# here we import everything for plotting from plotnine (like ggplot())
from plotnine import *

# here we import the data for the course
# note that rather than using * to get everything, you can name
# specific things to import (like track_features)
from music_top200 import music_top200, track_features
</code></pre><h3 id="exercise-1"><a href="#exercise-1" aria-hidden="true"><span class="fa fa-link"></span></a>Exercise 1:</h3><p>For the artist with the top track in Spain, what country has the most streams for one of their tracks?</p><p>Note: you may need to code multiple times.</p><details><summary>hint</summary>
    
  &gt; First, find the artist in the top position in Spain. After, can you get only that artists tracks? Once you do that you should be close!
    
</details><div ex="a" exIndx="0" language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div><pre><code>()
</code></pre></div><div class="container-editor container"></div></div></div><h3 id="exercise-2"><a href="#exercise-2" aria-hidden="true"><span class="fa fa-link"></span></a>Exercise 2:</h3><p>Subset to keep only tracks in Hong Kong, then calculate a new column called stream_seconds, that's equal to streams times their duration.</p><p>Once you've done that, try deleting the comments (<code>#</code>) in the code below to plot the data.</p><div ex="a" exIndx="0" language="python" class="code-cell--container"><div class="top-bar"><div class="is-pulled-right"><!----><div class="v-spinner" style="display:none;"><div class="v-pulse v-pulse1" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.12s;"></div><div class="v-pulse v-pulse2" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.24s;"></div><div class="v-pulse v-pulse3" style="background-color:#5dc596;width:8px;height:8px;margin:2px;border-radius:100%;display:inline-block;animation-name:v-pulseStretchDelay;animation-duration:0.75s;animation-iteration-count:infinite;animation-timing-function:cubic-bezier(.2,.68,.18,1.08);animation-fill-mode:both;animation-delay:0.36s;"></div></div></div></div><div class="vue-codemirror"><textarea name="codemirror" placeholder=""></textarea></div><button>run</button><button>reset</button><div class="code-cell--output"><div><p>⚠️: <b>Don't forget to replace all the blanks!</b></p></div><div class="container-editor container"></div></div></div><!----></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"metadata":{"siteName":"Siuba tutorials","siteDescription":""},"page":{"id":"cce2a731d9223cc9c35f6ffb69ea5176","title":"Wrap up","content":"\n\u003CNotebook\n  v-slot=\"nb\"\n  branch=\"master\"\n  repo=\"machow\u002Fpurview\"\n  url=\"https:\u002F\u002Fmybinder.org\"\n  useBinder=\"1\"\n  useStorage=\"1\"\n  \u003E\n\n\n\u003Cdetails v-fix-codemirror v-show=\"nb.debut\"\u003E\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\" :onReady=\"nb.updateSetupCode\"  language=\"python\"\u003E\n\n\n    # TODO: explain how to run this, and that they only need the gist (loads tools)\n    \n    # wranglign ---------\n    import pandas as pd\n    from siuba import *\n    \n    # plotting ----------\n    from plotnine import *\n    \n    theme_set(theme_classic(base_family = \"Noto Sans CJK JP\"))\n    \n    # data --------------\n    #fname = \"\u002FUsers\u002Fmachow\u002FDropbox\u002FRepo\u002Fsiublocks-org\u002Fintro-tidyverse\u002Ftutorial\u002Fdata\u002Fmusic200.csv\"\n    fname = \"https:\u002F\u002Fsiublocks.s3.us-east-2.amazonaws.com\u002Fcourse-data\u002Fmusic200.csv\"\n    music_top200 = pd.read_csv(fname)\n    \n    # tracks\n    #fname = \"\u002FUsers\u002Fmachow\u002FDropbox\u002FRepo\u002Fsiublocks-org\u002Fintro-tidyverse\u002Ftutorial\u002Fdata\u002Ftrack_features.csv\"\n    fname = \"https:\u002F\u002Fsiublocks.s3.us-east-2.amazonaws.com\u002Fcourse-data\u002Ftrack_features.csv\"\n    track_features = pd.read_csv(fname)\n    \n    # student support ----------\n    from siuba import pipe\n    from IPython.display import HTML, display\n    from siututor import Blank\n    ___ = Blank()\n    \n    # DataFrame display --------\n    pd.set_option(\"display.max_rows\", 6)\n    \n    from IPython import get_ipython\n    # special ipython function to get the html formatter\n    html_formatter = get_ipython().display_formatter.formatters['text\u002Fhtml']\n    \n    # here, we avoid the default df._repr_html_ method, since it inlines css\n    # (style tags make vue angry)\n    html_formatter.for_type(\n        pd.DataFrame,\n        lambda df: df.to_html(max_rows = pd.get_option(\"display.max_rows\"), show_dimensions = True)\n    )\n    \n    \n\n\n\n\n\u003C\u002Fcode-cell\u003E\n\u003C\u002Fdetails\u003E\n\n\n### Putting it together\n\nThis lesson shows what the beginning of an analysis might look like.\nGenerally, data analysis is done in **notebooks**, like this one. In a notebook, you can alternate between blocks of code and narrative text.\n\nThe first part of an analysis is often **importing** tools you will need for the analysis.\nFor example, verbs like `filter` and `mutate` are imported from siuba.\n\nAnother coding concept you'll see in this example is a **comment**.\nThese are lines of code that start with `#`.\nIn this case, the line is not treated as code, but a note for the reader.\n\nThe imports for this analysis are shown below.\n\n```python\n# here we import verbs like filter, arrange, and mutate from siuba.\n# the import * means to import all of siuba's verbs.\nfrom siuba import *\n\n# here we import everything for plotting from plotnine (like ggplot())\nfrom plotnine import *\n\n# here we import the data for the course\n# note that rather than using * to get everything, you can name\n# specific things to import (like track_features)\nfrom music_top200 import music_top200, track_features\n```\n\n### Exercise 1:\n\nFor the artist with the top track in Spain, what country has the most streams for one of their tracks?\n\nNote: you may need to code multiple times.\n\n\u003Cdetails\u003E\n  \u003Csummary\u003Ehint\u003C\u002Fsummary\u003E\n    \n  \u003E First, find the artist in the top position in Spain. After, can you get only that artists tracks? Once you do that you should be close!\n    \n\u003C\u002Fdetails\u003E\n\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  ex=\"a\" :exIndx=\"0\" language=\"python\"\u003E\n\n\n    # getting most streamed track for top artist in Spain\n    (\n    \n    \n    )\n\n\n\u003Ctemplate v-slot:output\u003E\n\n\n\n\n    ()\n\n\n\n\u003C\u002Ftemplate\u003E\n\n\u003C\u002Fcode-cell\u003E\n\n\n### Exercise 2:\n\nSubset to keep only tracks in Hong Kong, then calculate a new column called stream_seconds, that's equal to streams times their duration.\n\nOnce you've done that, try deleting the comments (`#`) in the code below to plot the data.\n\n\u003Ccode-cell  :status=\"nb.status\" :onExecute=\"nb.execute\"  ex=\"a\" :exIndx=\"0\" language=\"python\"\u003E\n\n\n    (music_top200\n      \u003E\u003E ___\n      \u003E\u003E ___\n      #\u003E\u003E ggplot(aes(\"stream_seconds\", \"position\", color = \"duration\"))\n      # + geom_point()\n    )\n\n\n\u003Ctemplate v-slot:output\u003E\n\n\n\n\n⚠️: \u003Cb\u003EDon't forget to replace all the blanks!\u003C\u002Fb\u003E\n\n\n\n\u003C\u002Ftemplate\u003E\n\n\u003C\u002Fcode-cell\u003E\n\n\n\n\u003C\u002FNotebook\u003E\n\n","chapters":[],"authors":[],"resources":[]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/intro-to-siuba/assets/js/app.09163097.js" defer></script><script src="/intro-to-siuba/assets/js/page--src--templates--course-landing-vue.72f716fe.js" defer></script><script src="/intro-to-siuba/assets/js/vue-remark--tutorial--intro-data-science--build--01-f-wrap-up-md.cf413e3d.js" defer></script>
  </body>
</html>
